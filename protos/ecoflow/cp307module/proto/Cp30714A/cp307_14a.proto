syntax = "proto3";

package ecoflow.cp307module.proto.Cp30714A;

message Sys14ADevBean {
  string ski = 1;

  optional string name = 3;

  optional string model = 4;
}

message Sys14AGatewayInfoGet {
}

message Sys14AGatewayInfoGetAck {
  string ski = 1;

  string shipId = 2;

  optional string name = 3;

  optional string model = 4;

  repeated Sys14ADevBean trustList = 5;
}

message Sys14AStatusSync {
  bool enable = 1;

  optional uint32 type = 2;

  optional uint32 dev_curr_power = 3;

  optional uint32 dev_max_power = 4;

  uint32 seq = 5;

  optional uint32 dev_max_num = 6;

  optional uint32 fail_safe_power = 7;
}

message Sys14AStatusSyncAck {
  uint32 result = 1;

  uint32 seq = 2;
}

message Sys14AStatusGet {
}

message Sys14AStatusAck {
  bool enable = 1;

  optional uint32 type = 2;

  optional uint32 dev_curr_power = 3;

  optional uint32 dev_max_power = 4;

  uint32 seq = 5;

  optional uint32 dev_max_num = 6;

  optional uint32 fail_safe_power = 7;
}

message Sys14AEEBUSCtrl {
  uint32 ctrl_type = 1;

  uint32 power = 2;

  uint32 seq = 3;

  uint32 end_timestamp = 4;

  uint32 duration = 5;
}

message Sys14AEEBUSCtrlAck {
  uint32 result = 1;

  uint32 seq = 2;
}

message Sys14AStatusSet {
  bool enable = 1;

  optional uint32 type = 2;
}

message Sys14AStatusSetAck {
  uint32 result = 1;
}

enum EMS_SUB_CMD_ID_14A {
  EEBUS_NONE = 0;

  EEBUS_DATA_SYNC = 53;

  EEBUS_DATA_GET = 98;

  EEBUS_CTRL = 99;
}
