syntax = "proto3";

message event_burial_point {
  uint32 type = 1;

  uint32 communication_channel = 2;

  uint32 bt_state = 3;

  uint32 bssid_count = 4;

  optional uint32 bandwith = 5;

  optional uint32 wifi_standard = 6;

  optional uint32 is_hidden = 7;

  optional uint32 wifi_speed = 8;

  optional uint32 dns_state = 9;

  optional uint32 http_state = 10;

  optional uint32 channel_ap_count = 11;

  optional uint32 adjacent_ap_channel_count = 12;

  optional uint32 connect_time = 13;

  optional uint32 wifi_error_code = 14;

  uint32 wifi_error_count = 15;

  uint32 wifi_success_count = 16;

  optional uint32 mqtt_error_code = 17;

  uint32 mqtt_error_count = 18;

  uint32 mqtt_success_count = 19;

  uint32 cpu = 20;
}

message inverter_heartbeat {
  optional uint32 inv_err_code = 1;

  optional uint32 inv_warn_code = 3;

  optional uint32 pv1_err_code = 2;

  optional uint32 pv1_warn_code = 4;

  optional uint32 pv2_err_code = 5;

  optional uint32 pv2_warning_code = 6;

  optional uint32 bat_err_code = 7;

  optional uint32 bat_warning_code = 8;

  optional uint32 llc_err_code = 9;

  optional uint32 llc_warning_code = 10;

  optional uint32 pv1_statue = 11;

  optional uint32 pv2_statue = 12;

  optional uint32 bat_statue = 13;

  optional uint32 llc_statue = 14;

  optional uint32 inv_statue = 15;

  optional int32 pv1_input_volt = 16;

  optional int32 pv1_vol_in_tag = 17;

  optional int32 pv1_input_cur = 18;

  optional int32 pv1_input_watts = 19;

  optional int32 pv1_temp = 20;

  optional int32 pv2_input_volt = 21;

  optional int32 pv2_vol_in_tag = 22;

  optional int32 pv2_input_cur = 23;

  optional int32 pv2_input_watts = 24;

  optional int32 pv2_temp = 25;

  optional int32 bat_input_volt = 26;

  optional int32 bat_op_volt = 27;

  optional int32 bat_input_cur = 28;

  optional int32 bat_input_watts = 29;

  optional int32 bat_temp = 30;

  optional uint32 bat_soc = 31;

  optional int32 llc_input_volt = 32;

  optional int32 llc_op_volt = 33;

  optional int32 llc_temp = 34;

  optional int32 inv_input_volt = 35;

  optional int32 inv_op_volt = 36;

  optional int32 inv_output_cur = 37;

  optional int32 inv_output_watts = 38;

  optional int32 inv_temp = 39;

  optional int32 inv_freq = 40;

  optional int32 inv_dc_cur = 41;

  optional int32 bp_type = 42;

  optional int32 inv_relay_status = 43;

  optional int32 pv1_relay_status = 44;

  optional int32 pv2_relay_status = 45;

  optional uint32 install_country = 46;

  optional uint32 install_town = 47;

  optional uint32 permanent_watts = 48;

  optional uint32 dynamic_watts = 49;

  optional uint32 supply_priority = 50;

  optional uint32 lower_limit = 51;

  optional uint32 upper_limit = 52;

  optional uint32 inv_on_off = 53;

  optional uint32 wireless_err_code = 54;

  optional uint32 wireless_warn_code = 55;

  optional uint32 inv_brightness = 56;

  optional uint32 heartbeat_frequency = 57;

  optional uint32 rated_power = 58;

  optional uint32 chg_remain_time = 59;

  optional uint32 dsg_remain_time = 60;

  optional uint32 feed_protect = 61;

  optional int32 pv_to_inv_watts = 62;

  optional int32 grid_cons_watts = 63;

  optional int32 plug_total_watts = 64;

  optional int32 inv_to_plug_watts = 65;

  optional int32 space_demand_watts = 66;

  optional int32 inv_demand_watts = 67;

  optional uint32 interface_conn_flag = 68;

  optional uint32 pv1_ctrl_mppt_off_flag = 69;

  optional uint32 pv2_ctrl_mppt_off_flag = 70;

  optional uint32 bat_off_flag = 71;

  optional uint32 llc_off_flag = 72;

  optional uint32 ac_off_flag = 73;

  optional uint32 bms_req_chg_vol = 74;

  optional uint32 bms_req_chg_amp = 75;

  optional uint32 uwload_limit_flag = 76;

  optional uint32 inv_load_limit_flag = 77;

  optional uint32 bat_load_limit_flag = 78;

  optional uint32 anti_back_flow_flag = 79;

  optional uint32 uwsoc_flag = 80;

  optional uint32 uwlow_light_flag = 81;

  optional uint32 inv_to_other_watts = 82;

  optional uint32 bat_system = 84;

  optional uint32 fload_limit_out = 85;

  optional uint32 inv_output_load_limit = 86;

  optional uint32 bat_output_load_limit = 87;

  optional uint32 pv_power_limit_ac_power = 98;

  optional uint32 bat_error_inv_load_limit = 99;

  optional uint32 reset_reason = 100;

  optional uint32 reset_count = 101;

  optional uint32 mesh_id = 102;

  optional uint32 mesh_layel = 103;

  optional uint32 self_mac = 104;

  optional uint32 parent_mac = 105;

  optional int32 sta_ip_addr = 106;

  optional int32 gene_num = 107;

  optional int32 cons_num = 108;

  optional int32 gene_watt = 109;

  optional int32 cons_watt = 110;

  optional int32 wifi_rssi = 83;

  optional int32 wifi_err = 111;

  optional uint32 wifi_err_time = 112;

  optional int32 mqtt_err = 113;

  optional uint32 mqtt_err_time = 114;

  optional uint32 stack_free = 115;

  optional uint32 stack_min_free = 116;

  optional int32 mqtt_tls_last_err = 117;

  optional int32 mqtt_tls_stack_err = 118;

  optional int32 mqtt_sock_errno = 119;

  optional uint32 mqtt_last_dis_reason = 121;

  optional uint32 mqtt_connect_return_code = 122;

  optional uint32 wifi_firmware_version = 123;

  optional uint32 wifi_connect_channel = 124;

  optional uint32 wifi_encrypt_mode = 125;

  optional uint32 ac_set_watts = 120;

  optional float fiso_rxyz = 126;

  optional int32 history_pv_to_inv_watts = 127;

  optional int32 history_bat_input_watts = 128;

  optional int32 history_inv_output_watts = 129;

  optional int32 history_grid_cons_watts = 130;

  optional int32 history_plug_total_watts = 131;

  optional int32 history_inv_to_plug_watts = 132;

  optional uint32 history_permanent_watts = 133;

  optional int32 esp_tempsensor = 134;

  optional int32 noise_floor = 135;

  optional int32 rssi_threshold = 136;

  optional int32 rssi_variance = 137;

  optional uint32 wdt_rest = 138;

  optional uint32 grid_ovp_cnt = 139;

  optional uint32 rst_unknow = 140;

  optional uint32 rst_poweron = 141;

  optional uint32 rst_ext = 142;

  optional uint32 rst_sw = 143;

  optional uint32 rst_panic = 144;

  optional uint32 rst_int_wdt = 145;

  optional uint32 rst_task_wdt = 146;

  optional uint32 rst_wdt = 147;

  optional uint32 rst_deepsleep = 148;

  optional uint32 rst_brownout = 149;

  optional uint32 rst_sdio = 150;

  optional event_burial_point event_info = 151;

  optional uint32 heartbeat_type2_frequency = 152;

  optional uint32 utc_time = 153;

  optional int32 time_zone = 154;

  optional int32 dst_time = 155;
}

message psdr_heartbeat {
  uint32 inv_err_code = 1;

  uint32 inv_warn_code = 3;

  uint32 pv1_err_code = 2;

  uint32 pv1_warn_code = 4;

  uint32 pv2_err_code = 5;

  uint32 pv2_warning_code = 6;

  uint32 bat_err_code = 7;

  uint32 bat_warning_code = 8;

  uint32 llc_err_code = 9;

  uint32 llc_warning_code = 10;

  uint32 pv1_statue = 11;

  uint32 pv2_statue = 12;

  uint32 bat_statue = 13;

  uint32 llc_statue = 14;

  uint32 inv_statue = 15;

  int32 pv1_input_volt = 16;

  int32 pv1_vol_in_tag = 17;

  int32 pv1_input_cur = 18;

  int32 pv1_input_watts = 19;

  int32 pv1_temp = 20;

  int32 pv2_input_volt = 21;

  int32 pv2_vol_in_tag = 22;

  int32 pv2_input_cur = 23;

  int32 pv2_input_watts = 24;

  int32 pv2_temp = 25;

  int32 bat_input_volt = 26;

  int32 bat_op_volt = 27;

  int32 bat_input_cur = 28;

  int32 bat_input_watts = 29;

  int32 bat_temp = 30;

  uint32 bat_soc = 31;

  int32 llc_input_volt = 32;

  int32 llc_op_volt = 33;

  int32 llc_temp = 34;

  int32 inv_input_volt = 35;

  int32 inv_op_volt = 36;

  int32 inv_output_cur = 37;

  int32 inv_output_watts = 38;

  int32 inv_temp = 39;

  int32 inv_freq = 40;

  int32 inv_dc_cur = 41;

  int32 bp_type = 42;

  int32 inv_relay_status = 43;

  int32 pv1_relay_status = 44;

  int32 pv2_relay_status = 45;

  uint32 rated_power = 46;

  uint32 chg_remain_time = 47;

  uint32 dsg_remain_time = 48;
}

message psdr_config {
  uint32 install_country = 1;

  uint32 install_town = 2;

  uint32 permanent_watts = 3;

  uint32 dynamic_watts = 4;

  uint32 supply_priority = 5;

  uint32 lower_limit = 6;

  uint32 upper_limit = 7;

  uint32 inv_on_off = 8;

  uint32 rtc_time = 9;

  uint32 updata_flag = 10;

  uint32 feed_protect = 11;

  uint32 feed_termination = 12;
}

message grid_connection_pack {
  uint32 fvolt_on_grid_high = 1;

  uint32 fvolt_on_grid_low = 2;

  uint32 fvolt_high1EE = 3;

  uint32 fvolt_high2EE = 4;

  uint32 fvolt_high3EE = 5;

  uint32 fvolt_high4EE = 6;

  uint32 fvolt_low1EE = 7;

  uint32 fvolt_low2EE = 8;

  uint32 fvolt_low3EE = 9;

  uint32 fvolt_low4EE = 10;

  uint32 volt_uwhigh_cut_time1EE = 11;

  uint32 volt_uwhigh_cut_time2EE = 12;

  uint32 volt_uwhigh_cut_time3EE = 13;

  uint32 volt_uwhigh_cut_time4EE = 14;

  uint32 volt_uwlow_cut_time1EE = 15;

  uint32 volt_uwlow_cut_time2EE = 16;

  uint32 volt_uwlow_cut_time3EE = 17;

  uint32 volt_uwlow_cut_time4EE = 18;

  uint32 ffreq_on_grid_high = 19;

  uint32 ffreq_on_grid_low = 20;

  uint32 ffreq_high1EE = 21;

  uint32 ffreq_high2EE = 22;

  uint32 ffreq_high3EE = 23;

  uint32 ffreq_high4EE = 24;

  uint32 ffreq_low1EE = 25;

  uint32 ffreq_low2EE = 26;

  uint32 ffreq_low3EE = 27;

  uint32 ffreq_low4EE = 28;

  uint32 freq_uwhigh_cut_time1EE = 29;

  uint32 freq_uwhigh_cut_time2EE = 30;

  uint32 freq_uwhigh_cut_time3EE = 31;

  uint32 freq_uwhigh_cut_time4EE = 32;

  uint32 freq_uwlow_cut_time1EE = 33;

  uint32 freq_uwlow_cut_time2EE = 34;

  uint32 freq_uwlow_cut_time3EE = 35;

  uint32 freq_uwlow_cut_time4EE = 36;

  uint32 uwpower_percent = 37;

  uint32 uwac_volt_load_limit_enable = 38;

  uint32 fac_volt_load_limit_pu_start = 39;

  uint32 fac_volt_load_limit_pu_end = 40;

  uint32 fac_volt_rated = 41;

  uint32 uwfreq_derating_enable = 42;

  uint32 uwfreq_derating_recover_speed = 43;

  uint32 uwfreq_derating_slope = 44;

  uint32 ffreq_derating_start_point = 45;

  uint32 ffreq_derating_recover_point = 46;

  uint32 uwfreq_add_power_enable = 47;

  uint32 uwfreq_add_power_recover_speed = 48;

  uint32 uwfreq_add_power_slope = 49;

  uint32 ffreq_add_power_start_point = 50;

  uint32 ffreq_add_power_recover_point = 51;

  uint32 uwspeed_limit_enable = 52;

  uint32 uwload_speed = 53;

  uint32 uwreact_power_ctrl_way = 54;

  int32 wpower_factor_command = 55;

  int32 wreact_power_per = 56;

  uint32 uwqu_high_start_point = 57;

  uint32 uwqu_high_end_point = 58;

  int32 wqu_react_power_per_hi = 59;

  uint32 uwqu_low_start_point = 60;

  uint32 uwqu_low_end_point = 61;

  int32 wqu_react_power_per_lo = 62;
}

message permanent_watts_pack {
  uint32 permanent_watts = 1;
}

message feed_protect_pack {
  uint32 feed_protect = 1;
}

message feed_termination_pack {
  uint32 feed_termination = 1;
}

message supply_priority_pack {
  uint32 supply_priority = 1;
}

message bat_lower_pack {
  uint32 lower_limit = 1;
}

message bat_upper_pack {
  uint32 upper_limit = 1;
}

message inv_brightness_message {
  uint32 brightness = 1;
}

message inverter_ack_message {
  uint32 ack = 1;
}

message inv_power_item {
  uint32 timestamp = 1;

  sint32 timezone = 2;

  uint32 inv_output_watt = 3;

  uint32 plug_consume_power = 4;

  int32 battry_power = 5;

  uint32 pv1_output_power = 6;

  uint32 pv2_output_power = 7;

  uint32 inv_to_other_power = 8;

  uint32 space_demand_power = 9;

  uint32 inv_demand_power = 10;
}

message inv_power_pack {
  uint32 sys_seq = 1;

  repeated inv_power_item sys_power_stream = 2;
}

message inv_power_pack_ack {
  uint32 sys_seq = 1;
}

message psdr_heartbeat_type2 {
  uint32 pv1_app_mppt_sta = 1;

  uint32 pv1_ctrl_mppt_off_flag = 2;

  uint32 pv2_app_mppt_sta = 3;

  uint32 pv2_ctrl_mppt_off_flag = 4;

  uint32 bat_system = 5;

  uint32 bat_off_flag = 6;

  uint32 upper_limit = 7;

  uint32 lower_limit = 8;

  uint32 llc_off_flag = 9;

  uint32 ac_off_flag = 10;

  uint32 ac_is_ok = 11;

  uint32 permanent_watts = 12;

  uint32 dynamic_watts = 13;

  uint32 freact_power = 14;

  int32 re_pwr_filt = 15;

  int32 curr_ref = 16;

  uint32 bms_req_chg_vol = 17;

  uint32 bms_req_chg_amp = 18;

  uint32 bms_mos_state = 19;

  uint32 bms_error_code = 20;

  uint32 uwload_limit_flag = 21;

  uint32 fload_limit_out = 22;

  uint32 inv_load_limit_flag = 23;

  uint32 inv_output_load_limit = 24;

  uint32 bat_load_limit_flag = 25;

  uint32 bat_output_load_limit = 26;

  uint32 pv_power_limit_ac_power = 27;

  uint32 bat_error_inv_load_limit = 28;

  uint32 anti_back_flow_flag = 29;

  uint32 uwsoc_flag = 30;

  uint32 uwlow_light_flag = 31;

  uint32 ac_set_watts = 32;

  float fiso_rxyz = 33;

  uint32 grid_ovp_cnt = 34;

  uint32 bat_bms_chg_ctl_cmd = 35;

  uint32 bat_bms_dsg_ctl_cmd = 36;

  uint32 bat_chg_disable_cond = 37;

  uint32 bat_dsg_disable_cond = 38;

  uint32 bat_sys_state = 39;

  uint32 bat_chg_dsg_state = 40;

  uint32 bat_chg_mos_state = 41;

  uint32 bat_dsg_mos_state = 42;

  uint32 bat_product_type = 43;

  uint32 bat_product_detail = 44;

  repeated uint32 resv = 45;
}

message psdr_heartbeat_type3 {
  uint32 num = 1;

  uint32 type = 2;

  uint32 cell_id = 3;

  uint32 err_code = 4;

  uint32 sys_ver = 5;

  uint32 soc = 6;

  uint32 vol = 7;

  int32 amp = 8;

  int32 temp = 9;

  uint32 open_bms_state = 10;

  uint32 design_cap = 11;

  uint32 remain_cap = 12;

  uint32 full_cap = 13;

  uint32 cycles = 14;

  uint32 soh = 15;

  uint32 max_cell_vol = 16;

  uint32 min_cell_vol = 17;

  int32 max_cell_temp = 18;

  int32 min_cell_temp = 19;

  int32 max_mos_temp = 20;

  int32 min_mos_temp = 21;

  uint32 bms_fault = 22;

  uint32 bq_sys_stat_reg = 23;

  uint32 tag_chg_amp = 24;

  float f32_show_soc = 25;

  uint32 input_watts = 26;

  uint32 output_watts = 27;

  uint32 remain_time = 28;

  uint32 chg_state = 29;

  uint32 chg_cmd = 30;

  uint32 dsg_cmd = 31;

  uint32 chg_vol = 32;

  uint32 chg_amp = 33;

  uint32 fan_level = 34;

  uint32 max_charge_soc = 35;

  uint32 bms_model = 36;

  uint32 lcd_show_soc = 37;

  uint32 open_ups_flag = 38;

  uint32 bms_warning_state = 39;

  uint32 chg_remain_time = 40;

  uint32 dsg_remain_time = 41;

  uint32 ems_is_normal_flag = 42;

  float f32_lcd_show_soc = 43;

  repeated uint32 bms_is_connt = 44;

  uint32 max_available_num = 45;

  uint32 open_bms_idx = 46;

  uint32 para_vol_min = 47;

  uint32 para_vol_max = 48;

  uint32 min_dsg_soc = 49;

  uint32 min_open_oil_eb_soc = 50;

  uint32 max_close_oil_eb_soc = 51;
}

message inv_heartbeat_type2 {
  optional uint32 pv1_app_mppt_sta = 1;

  optional uint32 pv1_ctrl_mppt_off_flag = 2;

  optional uint32 pv2_app_mppt_sta = 3;

  optional uint32 pv2_ctrl_mppt_off_flag = 4;

  optional uint32 bat_system = 5;

  optional uint32 bat_off_flag = 6;

  optional uint32 upper_limit = 7;

  optional uint32 lower_limit = 8;

  optional uint32 llc_off_flag = 9;

  optional uint32 ac_off_flag = 10;

  optional uint32 ac_is_ok = 11;

  optional uint32 permanent_watts = 12;

  optional uint32 dynamic_watts = 13;

  optional uint32 freact_power = 14;

  optional int32 re_pwr_filt = 15;

  optional int32 curr_ref = 16;

  optional uint32 bms_req_chg_vol = 17;

  optional uint32 bms_req_chg_amp = 18;

  optional uint32 bms_mos_state = 19;

  optional uint32 bms_error_code = 20;

  optional uint32 uwload_limit_flag = 21;

  optional uint32 fload_limit_out = 22;

  optional uint32 inv_load_limit_flag = 23;

  optional uint32 inv_output_load_limit = 24;

  optional uint32 bat_load_limit_flag = 25;

  optional uint32 bat_output_load_limit = 26;

  optional uint32 pv_power_limit_ac_power = 27;

  optional uint32 bat_error_inv_load_limit = 28;

  optional uint32 reset_reason = 29;

  optional uint32 rtc_reset_reason = 30;

  optional uint32 reset_count = 31;

  optional uint32 run_time = 32;

  optional uint32 lan_state = 33;

  optional uint32 stack_free = 34;

  optional uint32 stack_min_free = 35;

  optional uint32 mesh_id = 36;

  optional uint32 mesh_layel = 37;

  optional uint32 self_mac = 38;

  optional uint32 parent_mac = 39;

  optional int32 ota_dl_err = 40;

  optional int32 ota_dl_tls_err = 41;

  optional int32 sta_ip_addr = 42;

  optional int32 gene_num = 43;

  optional int32 cons_num = 44;

  optional int32 gene_watt = 45;

  optional int32 cons_watt = 46;

  optional int32 wifi_err = 47;

  optional int32 wifi_err_time = 48;

  optional int32 mqtt_err = 49;

  optional int32 mqtt_err_time = 50;

  optional int32 ate_load_limit = 51;

  optional int32 parent_wifi_rssi = 52;

  optional uint32 insights_switch = 53;

  optional uint32 bat_bms_chg_ctl_cmd = 54;

  optional uint32 bat_bms_dsg_ctl_cmd = 55;

  optional uint32 bat_chg_disable_cond = 56;

  optional uint32 bat_dsg_disable_cond = 57;

  optional uint32 bat_sys_state = 58;

  optional uint32 bat_chg_dsg_state = 59;

  optional uint32 bat_chg_mos_state = 60;

  optional uint32 bat_dsg_mos_state = 61;

  optional uint32 bat_product_type = 62;

  optional uint32 bat_product_detail = 63;

  repeated uint32 resv = 64;

  optional psdr_heartbeat_type3 new_psdr_heartbeat = 65;
}

message node_massage {
  string sn = 1;

  optional bytes mac = 2;
}

message mesh_child_node_info {
  uint32 topology_type = 1;

  optional uint32 mesh_protocol = 2;

  optional uint32 max_sub_device_num = 3;

  optional bytes parent_mac_id = 4;

  optional bytes mesh_id = 5;

  repeated node_massage sub_device_list = 6;
}

message brightness_pack {
  int32 brightness = 1;
}

message AC_max_watts_pack {
  uint32 AC_set_watts = 1;

  uint32 AC_max_watts = 2;
}
